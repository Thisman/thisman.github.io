# AGENTS.md - Тренажёр ладов и гамм

## Описание приложения

Приложение «Лады, гаммы и ступени» помогает изучать ноты различных ладов. Пользователь выбирает тонику и лад, после чего отображаются ступени с римскими цифрами и названиями нот.

## Основные механики

### 1. Выбор параметров
- Панель `tonicBar` позволяет выбрать тонику (12 полутонов)
- Панель `modeBar` задаёт лад из семи модальных гамм

### 2. Построение гаммы
- Функция `buildScale(tonicIdx, modeId)` использует интервалы `MODE_STEPS`
- Возвращает массив из семи ступеней в пределах октавы

### 3. Отображение ступеней
- `render()` строит таблицу с римскими цифрами и названиями нот
- `triadQuality()` определяет качество трезвучия и стиль цифры
- Характерные ступени подсвечиваются согласно `CHAR_DEG`

### 4. Родственные тональности
- Вычисляются родственные мажор и минор
- Соответствующие ноты отмечаются особыми цветами

## Структура файлов

```
gamma-trainer/
├── index.html   # Разметка приложения
├── index.css    # Стили и оформление
├── index.js     # Логика и генерация гамм
└── AGENTS.md    # Этот файл
```

## Ключевые функции

### `buildScale(tonicIdx, modeId)`
Создаёт последовательность нот по выбранному ладу.

### `triadQuality(root, third, fifth)`
Определяет качество трезвучия для ступени (мажор, минор, уменьш., увелич.).

### `initChipBars()`
Генерирует радиокнопки выбора тоники и лада и навешивает обработчики.

### `render()`
Перестраивает представление при каждом изменении параметров.

## Правила работы

### 1. HTML структура
- Семантические контейнеры `section` и `aside`
- Роли `radiogroup` для панелей выбора
- Контейнер `notes` для динамического вывода

### 2. CSS стили
- Использование общих переменных из `../styles/common.css`
- Flexbox для размещения элементов
- Цветовое кодирование ступеней и легенды

### 3. JavaScript логика
- ES6+ синтаксис и модульные функции
- События `change` на панелях выбора
- Разделение вычислений и отображения

### 4. Навигация
- Ссылка на главную страницу проекта
- Ссылка на GitHub репозиторий

## Зависимости

- **Общие стили**: `../styles/common.css`
- **Изображения**: ресурсы из `/images/`

## Рекомендации по развитию

1. Добавить озвучивание нот
2. Реализовать тренировочные задания
3. Сохранение выбранных параметров в localStorage
4. Поддержка альтернативных строев
5. Добавить мобильную версию интерфейса

